<html>
    <head>
        <title>Test Your Reaction Time</title>
        <div id="header"></div>
        <script src="/jquery.js"></script>
        <script>
            $("#header").load("/header.html");
        </script>
        <script>
            var t0=new Date().getTime(),ready=0;
            function sleep (delay)
            {
                var start=(new Date()).getTime();
                while ((new Date()).getTime()-start<delay)
                    continue;
            }
            document.onkeydown=function (evt)
            {
                evt=(evt)?evt:window.event;
                var key=evt.keyCode;
                if (key==10 || key==13)
                {
                    document.body.style.backgroundColor="#ffffff";
                    document.getElementById("ready").innerHTML="Please wait...";
                    setTimeout(function(){
                        ready=1;
                        document.body.style.backgroundColor="#ff0000";
                        t0=new Date().getTime();
                    },Math.random()*2000+1000);
                }
                else if (key==32 && ready)
                {
                    document.getElementById("ready").innerHTML="Your reaction time is "+(new Date().getTime()-t0)+" ms";
                    ready=0;
                }
            }
        </script>
    </head>
    <body>
        <h1>Test Your Reaction Time</h1>
        <p>Press space when you see the background turn red. Press enter if you're ready.</p>
        <p id="ready">Ready?</p>
        <div id="footer"></div>
        <script>
            $("#footer").load("/footer.html");
        </script>
    </body>
</html>