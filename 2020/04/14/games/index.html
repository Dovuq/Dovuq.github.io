<html>
    <head>
        <title>Games for Windows</title>
        <link rel="stylesheet" type="text/css" href="/theme.css">
    </head>
    <body>
        <h1>Games <strong>For Windows</strong></h1>
        <a href="/">Home</a>
        <h2>扫雷</h2>
        <a href="#扫雷source">link</a>
        <h2>2048</h2>
        <a href="#2048source">link</a>
        <h2>跳棋</h2>
        <a href="#跳棋source">link</a>
        <h2>扫雷source</h2>
        <pre><code>
#include &lt;bits/stdc++.h&gt;
#include &lt;windows.h&gt;
using namespace std;
char ans[105][105],now[105][105];
int n,m,bnum;
const int dx[]={-1,-1,-1,0,0,1,1,1};
const int dy[]={-1,0,1,-1,1,-1,0,1};
void go ()
{
    memset (ans,&#x27; &#x27;,sizeof(ans));
    memset (now,&#x27;?&#x27;,sizeof(now));
    srand(time(NULL));
    for (int i=0;i&lt;bnum;i++)
        while (1)
        {
            int x=rand()%n;
            int y=rand()%m;
            if (ans[x][y]==&#x27;*&#x27;) continue;
            ans[x][y]=&#x27;*&#x27;;
            for (int j=0;j&lt;8;j++)
            {
                int xx=x+dx[j];
                int yy=y+dy[j];
                if (xx&lt;0||xx&gt;=n||yy&lt;0||yy&gt;=m) continue;
                switch (ans[xx][yy])
                {
                case &#x27; &#x27;:
                    ans[xx][yy]=&#x27;1&#x27;;
                    break;
                case &#x27;*&#x27;:
                    break;
                default:
                    ans[xx][yy]++;
                }
            }
            break;
        }
}
void printmap ()
{
    printf (&quot;   &quot;);
    for (int i=0;i&lt;m;i++)
        printf (&quot;%3d&quot;,i);
    printf (&quot;\n&quot;);
    for (int i=0;i&lt;n;i++)
    {
        printf (&quot;%3d&quot;,i);
        for (int j=0;j&lt;m;j++)
            printf (&quot;  %c&quot;,now[i][j]);
            printf (&quot;\n&quot;);
        }
    printf (&quot;\n&quot;);
    printf (&quot;-------------------------------------\n&quot;);;
    printf (&quot;Tips:\n&quot;);
    printf (&quot;Input 0 x y to click(x,y).\n&quot;);
    printf (&quot;Input 1 x y to mark (x,y).\n&quot;);
    printf (&quot;Input 2 to restart.\n&quot;);
    printf (&quot;-------------------------------------\n&quot;);
    printf (&quot;I want:\n&quot;);
}
void printans ()
{
    printf (&quot;   &quot;);
    for (int i=0;i&lt;m;i++)
        printf (&quot;%3d&quot;,i);
    printf (&quot;\n&quot;);
    for (int i=0;i&lt;n;i++)
    {
        printf (&quot;%3d&quot;,i);
        for (int j=0;j&lt;m;j++)
            printf (&quot;  %c&quot;,ans[i][j]);
            printf (&quot;\n&quot;);
        }
        printf (&quot;\n&quot;);
}
void k (int x,int y)
{
    now[x][y]=ans[x][y];
    for (int j=0;j&lt;8;j++)
    {
        int xx=x+dx[j];
        int yy=y+dy[j];
        if (xx&lt;0||xx&gt;=n||yy&lt;0||yy&gt;=m) continue;
        if (ans[xx][yy]==&#x27; &#x27;&amp;&amp;now[xx][yy]==&#x27;?&#x27;)
            k (xx,yy);
        else now[xx][yy]=ans[xx][yy];
    }
}
bool doit (int t,int x,int y)
{
    switch (t)
    {
    case 1:
        if (now[x][y]==&#x27;!&#x27;)
            now[x][y]=&#x27;?&#x27;;
        else if (now[x][y]==&#x27;?&#x27;)
            now[x][y]=&#x27;!&#x27;;
        return 1;
    case 0:
        if (ans[x][y]==&#x27;*&#x27;)
            return 0;
        if (ans[x][y]==&#x27; &#x27;)
            k (x,y);
        else now[x][y]=ans[x][y];
        return 1;
    }
}
int main ()
{
    printf (&quot;Welcome to Minesweeper!\n&quot;);
    Sleep (2000);
    while (1)
    {
        int win=1;
        system (&quot;cls&quot;);
        printf (&quot;How many rows(3..100):\n&quot;);
        while (1)
        {
            scanf (&quot;%d&quot;,&amp;n);
            if (n&gt;=3&amp;&amp;n&lt;=100)
                break;
            printf (&quot;Wrong, input again!\n&quot;);
        }
        system (&quot;cls&quot;);
        printf (&quot;How many columns(3..100):\n&quot;);
        while (1)
        {
            scanf (&quot;%d&quot;,&amp;m);
                if (m&gt;=3&amp;&amp;m&lt;=100)
                break;
            printf (&quot;Wrong, input again!\n&quot;);
        }
        system (&quot;cls&quot;);
        printf (&quot;How many mines(1..%d):\n&quot;,(int)(n*m*0.85));
        while (1)
        {
            scanf (&quot;%d&quot;,&amp;bnum);
            if (bnum&gt;=1&amp;&amp;bnum&lt;=n*m*0.85)
                break;
            printf (&quot;Wrong, input again!\n&quot;);
        }
        system (&quot;cls&quot;);
        go ();
        printf (&quot;Ready?&quot;);
        Sleep (800);
        system (&quot;cls&quot;);
        printf (&quot;Go!&quot;);
        Sleep (800);
        while (1)
        {
            system (&quot;cls&quot;);
            printmap ();
            int t,x,y;
            scanf (&quot;%d&quot;,&amp;t);
            if (t==2) break;
            scanf (&quot;%d%d&quot;,&amp;x,&amp;y);
            if (t&lt;0||t&gt;=3||x&lt;0||x&gt;=n||y&lt;0||y&gt;=m)
            {
                printf (&quot;Wrong\n&quot;);
                Sleep (800);
            }
            else
            {
                bool ok=doit (t,x,y);
                if (!ok)
                {
                    win=0;
                    break;
                }
            }
            int p=0;
            for (int i=0;i&lt;n;i++)
                for (int j=0;j&lt;m;j++)
                    if (now[i][j]==&#x27;?&#x27;||now[i][j]==&#x27;!&#x27;)
                        p++;
            if (p==bnum)
            {
                win=2;
                break;
            }
        }
        system (&quot;cls&quot;);
        printans ();
        if (win==0)
        {
            printf (&quot;\n\nPlease try again!\n&quot;);
        }
        else if (win==2)
        {
            printf (&quot;\n\nYou won!\n&quot;);
        }
        Sleep (1000);
        system(&quot;pause&quot;);
    }
}
        </code></pre>
        <h2>2048source</h2>
        <pre><code>
#include &lt;bits/stdc++.h&gt;
#include &lt;conio.h&gt;
#include &lt;windows.h&gt;
using namespace std;
char sel;
string a[105],p[25][25];
int b[505][3],n,m,d[25][25];
int size,width;
void setup0 ()
{
    n=19;
    m=18;
    size=4;
    width=6;
    a[0]=&quot;2&quot;;
    a[1]=&quot;4&quot;;
    a[2]=&quot;8&quot;;
    a[3]=&quot;16&quot;;
    a[4]=&quot;32&quot;;
    a[5]=&quot;64&quot;;
    a[6]=&quot;128&quot;;
    a[7]=&quot;256&quot;;
    a[8]=&quot;512&quot;;
    a[9]=&quot;1024&quot;;
    a[10]=&quot;2048&quot;;
    a[11]=&quot;4096&quot;;
    a[12]=&quot;8192&quot;;
    a[13]=&quot;16384&quot;;
    a[14]=&quot;32768&quot;;
    a[15]=&quot;65536&quot;;
    a[16]=&quot;131072&quot;;
    a[17]=&quot;262144&quot;;
    a[18]=&quot;524288&quot;;
    for (int i=0;i&lt;18;i++)
        b[i][0]=b[i][1]=i, b[i][2]=i+1;
    for (int i=0;i&lt;size;i++)
        for (int j=0;j&lt;size;j++)
        {
            p[i][j]=&quot; &quot;;
            d[i][j]=-1;
        }
    int x=rand()%size,y=rand()%size;
    p[x][y]=a[0];
    d[x][y]=0;
    system (&quot;cls&quot;);
}
void setup1 ()
{
p:	puts (&quot;Input setup, input -1 for information:&quot;);
    scanf (&quot;%d&quot;,&amp;n);
    if (n==-1)
    {
        puts (&quot;&quot;);
        puts (&quot;Syntax of input:&quot;);
        puts (&quot;n s // n: number of diff blocks, s: size of border (s*s)&quot;);
        puts (&quot;a[0] // the smallest number, it can be string, but not too long&quot;);
        puts (&quot;a[1] // etc.&quot;);
        puts (&quot;......&quot;);
        puts (&quot;a[n-1] // if you reach this, you win&quot;);
        puts (&quot;x y z // when a[x] reaches a[y], they merge into a[z]&quot;);
        puts (&quot;x y z // etc.&quot;);
        puts (&quot;......&quot;);
        puts (&quot;-1 -1 -1 // symbol of end of input&quot;);
        puts (&quot;&quot;);
        goto p;
    }
    scanf (&quot;%d&quot;,&amp;size);
    width=0;
    for (int i=0;i&lt;n;i++)
    {
        printf (&quot;%d &quot;,i);
        cin&gt;&gt;a[i];
        width=max(width,(int)a[i].length());
    }
    for (int i=0;;i++)
    {
        scanf (&quot;%d%d%d&quot;,&amp;b[i][0],&amp;b[i][1],&amp;b[i][2]);
        if (b[i][0]==-1)
        {
            m=i;
            break;
        }
    }
    for (int i=0;i&lt;size;i++)
        for (int j=0;j&lt;size;j++)
        {
            p[i][j]=&quot; &quot;;
            d[i][j]=-1;
        }
    int x=rand()%size,y=rand()%size;
    p[x][y]=a[0];
    d[x][y]=0;
    system (&quot;cls&quot;);
}
void print ()
{
    puts (&quot;¡ü¡ý¡û¡ú: Move&quot;);
    puts (&quot;Esc: Main menu&quot;);
    for (int k=0;k&lt;size;k++)
    {
        for (int i=0;i&lt;size;i++)
        {
            putchar (&#x27; &#x27;);
            for (int j=0;j&lt;width+2;j++)
                putchar (&#x27;-&#x27;);
        }
        putchar (10);
        for (int i=0;i&lt;size;i++)
        {
            putchar (&#x27;|&#x27;);
            for (int j=0;j&lt;width+2;j++)
                putchar (&#x27; &#x27;);
        }
        putchar (&#x27;|&#x27;);
        putchar (10);
        for (int i=0;i&lt;size;i++)
            cout&lt;&lt;&quot;| &quot;&lt;&lt;setw(width)&lt;&lt;p[k][i]&lt;&lt;&quot; &quot;;
        putchar (&#x27;|&#x27;);
        putchar (10);
        for (int i=0;i&lt;size;i++)
        {
            putchar (&#x27;|&#x27;);
            for (int j=0;j&lt;width+2;j++)
                putchar (&#x27; &#x27;);
        }
        putchar (&#x27;|&#x27;);
        putchar (10);
    }
    for (int i=0;i&lt;size;i++)
    {
        putchar (&#x27; &#x27;);
        for (int j=0;j&lt;width+2;j++)
            putchar (&#x27;-&#x27;);
    }
    putchar (10);
}
void play ()
{
    while (1)
    {
        print ();
        int dir=0;
        while (1)
        {
            sel=getch();
            switch (sel)
            {
            case -32:
                switch (getch())
                {
                case 72:
                    dir=1;
                    break;
                case 75:
                    dir=2;
                    break;
                case 80:
                    dir=3;
                    break;
                case 77:
                    dir=4;
                    break;
                default:
                    puts (&quot;Wrong, try again.&quot;);
                }
                break;
            case 27:
                return;
            default:
//				printf (&quot;%d &quot;,sel);
                puts (&quot;Wrong, try again.&quot;);
            }
            if (dir) break;
            Sleep (1000);
        }
        puts (&quot;Moving . . .&quot;);
        switch (dir)
        {
        case 1:
            for (int j=0;j&lt;size;j++)
                for (int i=0;i&lt;size;)
                {
                    if (i==0 || p[i][j]==&quot; &quot;)
                    {
                        i++;
                        continue;
                    }
                    if (p[i-1][j]==&quot; &quot;)
                    {
                        p[i-1][j]=p[i][j];
                        d[i-1][j]=d[i][j];
                        p[i][j]=&quot; &quot;;
                        d[i--][j]=-1;
                        continue;
                    }
                    for (int k=0;k&lt;m;k++)
                        if (d[i][j]==b[k][0] &amp;&amp; d[i-1][j]==b[k][1]
                            || d[i][j]==b[k][1] &amp;&amp; d[i-1][j]==b[k][0])
                        {
                            p[i-1][j]=a[b[k][2]];
                            d[i-1][j]=b[k][2];
                            p[i][j]=&quot; &quot;;
                            d[i][j]=-1;
                            i-=2;
                            if (b[k][2]==n-1)
                            {
                                puts (&quot;You won!&quot;);
                                return;
                            }
                            break;
                        }
                    i++;
                }
            break;
        case 2:
            for (int i=0;i&lt;size;i++)
                for (int j=0;j&lt;size;)
                {
                    if (j==0 || p[i][j]==&quot; &quot;)
                    {
                        j++;
                        continue;
                    }
                    if (p[i][j-1]==&quot; &quot;)
                    {
                        p[i][j-1]=p[i][j];
                        d[i][j-1]=d[i][j];
                        p[i][j]=&quot; &quot;;
                        d[i][j--]=-1;
                        continue;
                    }
                    for (int k=0;k&lt;m;k++)
                        if (d[i][j]==b[k][0] &amp;&amp; d[i][j-1]==b[k][1]
                            || d[i][j]==b[k][1] &amp;&amp; d[i][j-1]==b[k][0])
                        {
                            p[i][j-1]=a[b[k][2]];
                            d[i][j-1]=b[k][2];
                            p[i][j]=&quot; &quot;;
                            d[i][j]=-1;
                            j-=2;
                            if (b[k][2]==n-1)
                            {
                                puts (&quot;You won!&quot;);
                                return;
                            }
                            break;
                        }
                    j++;
                }
            break;
        case 3:
            for (int j=0;j&lt;size;j++)
                for (int i=size-1;i&gt;=0;)
                {
                    if (i==size-1 || p[i][j]==&quot; &quot;)
                    {
                        i--;
                        continue;
                    }
                    if (p[i+1][j]==&quot; &quot;)
                    {
                        p[i+1][j]=p[i][j];
                        d[i+1][j]=d[i][j];
                        p[i][j]=&quot; &quot;;
                        d[i++][j]=-1;
                        continue;
                    }
                    for (int k=0;k&lt;m;k++)
                        if (d[i][j]==b[k][0] &amp;&amp; d[i+1][j]==b[k][1]
                            || d[i][j]==b[k][1] &amp;&amp; d[i+1][j]==b[k][0])
                        {
                            p[i+1][j]=a[b[k][2]];
                            d[i+1][j]=b[k][2];
                            p[i][j]=&quot; &quot;;
                            d[i][j]=-1;
                            i+=2;
                            if (b[k][2]==n-1)
                            {
                                puts (&quot;You won!&quot;);
                                return;
                            }
                            break;
                        }
                    i--;
                }
            break;
        case 4:
            for (int i=0;i&lt;size;i++)
                for (int j=size-1;j&gt;=0;)
                {
                    if (j==size-1 || p[i][j]==&quot; &quot;)
                    {
                        j--;
                        continue;
                    }
                    if (p[i][j+1]==&quot; &quot;)
                    {
                        p[i][j+1]=p[i][j];
                        d[i][j+1]=d[i][j];
                        p[i][j]=&quot; &quot;;
                        d[i][j++]=-1;
                        continue;
                    }
                    for (int k=0;k&lt;m;k++)
                        if (d[i][j]==b[k][0] &amp;&amp; d[i][j+1]==b[k][1]
                            || d[i][j]==b[k][1] &amp;&amp; d[i][j+1]==b[k][0])
                        {
                            p[i][j+1]=a[b[k][2]];
                            d[i][j+1]=b[k][2];
                            p[i][j]=&quot; &quot;;
                            d[i][j]=-1;
                            j+=2;
                            if (b[k][2]==n-1)
                            {
                                puts (&quot;You won!&quot;);
                                return;
                            }
                            break;
                        }
                    j--;
                }
        }
        for (int i=0;;i++)
        {
            int x=rand()%size,y=rand()%size;
            if (p[x][y]==&quot; &quot;)
            {
                p[x][y]=a[0];
                d[x][y]=0;
                break;
            }
            if (i&gt;=size*size*100)
            {
                puts (&quot;You lose!&quot;);
                return;
            }
        }
        system (&quot;cls&quot;);
    }
}
int main ()
{
    srand(time(0));
    while (1)
    {
        puts (&quot;****************MENU****************&quot;);
        puts (&quot;1. Default&quot;);
        puts (&quot;2. Setup&quot;);
        puts (&quot;0. Exit&quot;);
        puts (&quot;************************************&quot;);
        sel=getch();
        switch (sel)
        {
        case &#x27;1&#x27;:
            setup0 ();
            play ();
            break;
        case &#x27;2&#x27;:
            setup1 ();
            play ();
            break;
        case &#x27;0&#x27;:
            puts (&quot;Bye!&quot;);
            return 0;
        default:
            puts (&quot;Wrong, try again.&quot;);
        }
        Sleep (2000);
        system (&quot;cls&quot;);
    }
}
        </code></pre>
        <h2>跳棋source</h2>
        <pre><code>
#include &lt;bits/stdc++.h&gt;
#include &lt;conio.h&gt;
#include &lt;windows.h&gt;
#define N 17
#define loop while(1){
#define end }
#define elif else if
using namespace std;
const int dx[]={-1,-1,0,0,1,1};
const int dy[]={-1,0,-1,1,0,1};
const char a[][105]={&quot;&quot;,
bcb o
};
char mp[20][20]={
    &quot;####4############&quot;,
    &quot;####44###########&quot;,
    &quot;####444##########&quot;,
    &quot;####4444#########&quot;,
    &quot;5555.....3333####&quot;,
    &quot;#555......333####&quot;,
    &quot;##55.......33####&quot;,
    &quot;###5........3####&quot;,
    &quot;####.........####&quot;,
    &quot;####6........2###&quot;,
    &quot;####66.......22##&quot;,
    &quot;####666......222#&quot;,
    &quot;####6666.....2222&quot;,
    &quot;#########1111####&quot;,
    &quot;##########111####&quot;,
    &quot;###########11####&quot;,
    &quot;############1####&quot;
};
char num[20][20]={
    &quot;####0############&quot;,
    &quot;####12###########&quot;,
    &quot;####345##########&quot;,
    &quot;####6789#########&quot;,
    &quot;0123.....0123####&quot;,
    &quot;#456......456####&quot;,
    &quot;##78.......78####&quot;,
    &quot;###9........9####&quot;,
    &quot;####.........####&quot;,
    &quot;####0........0###&quot;,
    &quot;####12.......12##&quot;,
    &quot;####345......345#&quot;,
    &quot;####6789.....6789&quot;,
    &quot;#########0123####&quot;,
    &quot;##########456####&quot;,
    &quot;###########78####&quot;,
    &quot;############9####&quot;
};
char info[20][20],now;
void dfs (int x,int y)
{
    for (int i=0;i&lt;6;i++)
    {
        int xx,yy,tx,ty;
        xx=x+dx[i];
        yy=y+dy[i];
        tx=x+2*dx[i];
        ty=y+2*dy[i];
        if (xx&gt;=0 &amp;&amp; xx&lt;N &amp;&amp; yy&gt;=0 &amp;&amp; yy&lt;N &amp;&amp; tx&gt;=0 &amp;&amp; tx&lt;N &amp;&amp; ty&gt;=0 &amp;&amp; ty&lt;N &amp;&amp;
            mp[xx][yy]&gt;&#x27;0&#x27; &amp;&amp; mp[xx][yy]&lt;&#x27;7&#x27; &amp;&amp; mp[tx][ty]==&#x27;.&#x27; &amp;&amp; info[tx][ty]==&#x27; &#x27;)
        {
            info[tx][ty]=now++;
            dfs (tx,ty);
        }
    }
}
void printmap (char per,char che)
{
    memset (info,&#x27; &#x27;,sizeof(info));
    now=&#x27;a&#x27;;
    for (int i=0;i&lt;N;i++)
        for (int j=0;j&lt;N;j++)
            if (mp[i][j]==per &amp;&amp; num[i][j]==che)
            {
                dfs (i,j);
                for (int k=0;k&lt;6;k++)
                {
                    int xx,yy;
                    xx=i+dx[k];
                    yy=j+dy[k];
                    if (xx&gt;=0 &amp;&amp; xx&lt;N &amp;&amp; yy&gt;=0 &amp;&amp; yy&lt;N &amp;&amp; mp[xx][yy]==&#x27;.&#x27;)
                        info[xx][yy]=now++;
                }
            }
    puts (a[per-&#x27;0&#x27;]);
    for (int i=0;i&lt;N;i++)
    {
        for (int j=i;j&lt;N;j++)
            putchar (32);
        for (int j=0;j&lt;N;j++)
        {
            if (mp[i][j]==&#x27;#&#x27;) printf (&quot;  &quot;);
            elif (mp[i][j]==per) printf (&quot;%c &quot;,num[i][j]);
            elif (mp[i][j]==&#x27;.&#x27;)
            {
                if (info[i][j]==&#x27; &#x27;) printf (&quot;. &quot;);
                else printf (&quot;%c &quot;,info[i][j]);
            }
            else printf (&quot;# &quot;);
        }
        putchar (10);
    }
    printf (&quot;Press a~%c to move.\n&quot;,now-1);
    puts (&quot;Press 1 to cancel.&quot;);
    puts (&quot;Press 2 to quit.&quot;);
}
void printmap (char per)
{
    puts (a[per-&#x27;0&#x27;]);
    for (int i=0;i&lt;N;i++)
    {
        for (int j=i;j&lt;N;j++)
            putchar (32);
        for (int j=0;j&lt;N;j++)
        {
            if (mp[i][j]==&#x27;#&#x27;) printf (&quot;  &quot;);
            elif (mp[i][j]==per) printf (&quot;%c &quot;,num[i][j]);
            elif (mp[i][j]==&#x27;.&#x27;) printf (&quot;. &quot;);
            else printf (&quot;# &quot;);
        }
        putchar (10);
    }
    puts (&quot;Press 0~9 to move.&quot;);
    puts (&quot;Press s to skip.&quot;);
    puts (&quot;Press q to quit.&quot;);
}
int main ()
{
    loop for (int i=1;i&lt;=6;i++)
    {
        char ch,ch2;
p:		printmap (i+&#x27;0&#x27;);
        loop
            ch=getch ();
            if ((ch&lt;&#x27;0&#x27; || ch&gt;&#x27;9&#x27;) &amp;&amp; ch!=&#x27;s&#x27; &amp;&amp; ch!=&#x27;q&#x27;)
                puts (&quot;Wrong, try again!&quot;);
            else break;
        end
        system (&quot;cls&quot;);
        if (ch==&#x27;s&#x27;) continue;
        elif (ch==&#x27;q&#x27;) return 0;
        ch2=ch;
        printmap (i+&#x27;0&#x27;,ch2);
        loop
            ch=getch ();
            if ((ch&lt;&#x27;a&#x27; || ch&gt;=now) &amp;&amp; ch!=&#x27;1&#x27; &amp;&amp; ch!=&#x27;2&#x27;)
                puts (&quot;Wrong, try again!&quot;);
            else break;
        end
        system (&quot;cls&quot;);
        if (ch==&#x27;1&#x27;) goto p;
        elif (ch==&#x27;2&#x27;) break;
        int i1,j1,i2,j2;
        for (int x=0;x&lt;N;x++)
            for (int y=0;y&lt;N;y++)
            {
                if (mp[x][y]==i+&#x27;0&#x27; &amp;&amp; num[x][y]==ch2)
                    i1=x,j1=y;
                elif (info[x][y]==ch)
                    i2=x,j2=y;
            }
        swap (mp[i1][j1],mp[i2][j2]);
        swap (num[i1][j1],num[i2][j2]);
        printmap (i+&#x27;0&#x27;);
        getch ();
        system (&quot;cls&quot;);
    } end
}
        </code></pre>
    </body>
</html>
